Автоматизация поиска авиабилетов и отелей
---
* Цель: разработать систему, которая будет выводить для пользователя наиболее выгодный авиабилет и наиболее выгодный отель
* Ограничения*
  * Вывод информации в пдф
  * Поиск по прицнипу: Аэрофлот -> Время после 18 -> Самый дешёвый или сразу всё вместе
  * Поиск самого дешёвого отеля
  * Вывод всей информации на экран пользователя (в браузере)
---
### Получение авиабилетов
> Исходя из того, что происходит парсинг не обычного DOM дерева, а виртуального, необходимо было имитировать поведение обычного пользователя в браузере, чтобы соединение клиента с сервером сайта держалось определённое количество времени n, пока не будет полностью прогружена страница
* Шаги получения данных об авиабилетах:
  * Получаем IATA коды по названиям городов
  * Преобразуем даты из формата yyyy-mm-dd в формат mmdd 
  * Формируем ссылку с запросом
  * Включаем драйвер gecko и ожидаем 5 секунд
  * Выполняем запрос на сайт через selenium и ожидаем 15 секунд
  * Парсим страницу
  * Сортируем по принципу, описанному выше
---
### Получение отелей
> В отличии от авиабилетов, отели получали через api hotellook, таким образом этот метод в целом работает быстрее и проще
* Шаги получения данных об отелях:
  * Получаем в аргумент функции город, в который мы прибываем, дату заселения и выселения
  * Формируем строку запроса
  * Выполняем запрос и получаем json
  * Получаем значения из json, создавая лист словарей
  * Сортируем и возвращаем самый дешёвый
---
### Формирование PDF
> После получения всех данных, строки с кириллицей переводятся в транслит, чтобы не было проблем с декодингом 
* Шаги формирования PDF:
  * Получаем все данные
  * Переводим все строки в транслит
  * Добавляем страницу, устанавливаем шрифт и размер шрифта
  * Добавляем все строки в PDF
  * Делаем вывод в директорию static
---
### Связь бэкенда и фронтенда
> Бэкенд и фронтенд связывались посредством выполнения ajax запроса, в котором передавались данные на сервер. Пока происходит выполнение функций на стороне бэкенда, на стороне фронтенда выполняется анимация. Как только будут получены данные, начнёт своё выполнение success функция, которая скроет анимацию и покажет данные на экране 